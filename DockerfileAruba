FROM ubuntu

MAINTAINER nobody

MAINTAINER nobody
ENV TZ=America/Chicago
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

# Installing dependencies

RUN apt update && \
apt install -y git && \
apt install -y aptitude && \
apt install -y synaptic && \
apt install -y bc && \
apt install -y lsb-release && \
apt-get install -y software-properties-common && \
apt-get -y install net-tools && \
apt-get -y install dos2unix && \
apt-get -y install tshark && \
apt-get -y install apache2 && \
apt-get -y install tftpd-hpa && \
apt-get -y install mysql-server && \
apt-get -y install mysql-client && \
apt-get -y install python3-pip && \
apt-get install wget && \
pip3 install requests && \
pip3 install pygal && \
pip3 install flask && \
pip3 install flask-bootstrap && \
pip3 install flask-login && \
pip3 install pycryptodome && \
pip3 install pymysql && \
pip3 install schedule && \
pip3 install pyshark && \
pip3 install psutil && \
pip3 install paramiko && \
pip3 install netmiko && \
pip3 install waitress && \
pip3 install websockets

# Installing Aruba Flask 

RUN git clone https://github.com/HewlettPackard/Aruba-FlaskwithNetworking.git
RUN chmod +x ./Aruba-FlaskwithNetworking/install.sh
RUN /bin/bash -c /Aruba-FlaskwithNetworking/./install.sh
RUN service mysql stop
RUN usermod -d /var/lib/mysql/ mysql
RUN service mysql start
RUN /var/www/html/./startapp.sh
